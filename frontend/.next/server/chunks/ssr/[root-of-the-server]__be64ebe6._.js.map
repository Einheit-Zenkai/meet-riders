{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/context/PartyContext.tsx"],"sourcesContent":["// src/context/PartyContext.tsx\r\n'use client';\r\n\r\nimport { createContext, useContext, useState, ReactNode, useEffect } from 'react';\r\n\r\n// --- 1. UPDATED Party interface ---\r\n// We now store a precise timestamp for expiration.\r\nexport interface Party {\r\n  id: number;\r\n  host: string;\r\n  partySize: number;\r\n  meetupPoint: string;\r\n  dropOff: string;\r\n  isFriendsOnly: boolean;\r\n  isGenderOnly: boolean;\r\n  rideOptions: string[];\r\n  expiryTimestamp: number; // The exact time (in milliseconds) the party expires\r\n  hostUniversity?: string;\r\n  displayUniversity?: boolean;\r\n}\r\n\r\n// --- 2. UPDATED ContextType ---\r\n// The `addParty` function is smarter now. It will receive the user-friendly\r\n// string like \"10 min\" and do the conversion to a timestamp internally.\r\ninterface PartyContextType {\r\n  parties: Party[];\r\n  addParty: (partyData: Omit<Party, 'id' | 'host' | 'expiryTimestamp' | 'rideOptions'> & { expiresIn: string; rideOptions: string[] }) => void;\r\n  cancelParty: (id: number) => void;\r\n}\r\n\r\nconst PartyContext = createContext<PartyContextType | undefined>(undefined);\r\n\r\n// --- 3. HELPER FUNCTION ---\r\n// This small utility converts a string like \"10 min\" or \"1 hr\" into milliseconds.\r\nconst parseDuration = (duration: string): number => {\r\n  const [value, unit] = duration.split(' ');\r\n  const numValue = parseInt(value, 10);\r\n  if (unit === 'min') {\r\n    return numValue * 60 * 1000;\r\n  }\r\n  if (unit === 'hr') {\r\n    return numValue * 60 * 60 * 1000;\r\n  }\r\n  return 0; // Default case if something goes wrong\r\n};\r\n\r\n// The Provider component that wraps your app\r\nexport function PartyProvider({ children }: { children: ReactNode }) {\r\n  const [parties, setParties] = useState<Party[]>([]);\r\n\r\n  // --- 4. UPDATED addParty function ---\r\n  const addParty = (partyData: Omit<Party, 'id' | 'host' | 'expiryTimestamp' | 'rideOptions'> & { expiresIn: string; rideOptions: string[] }) => {\r\n    // We separate the 'expiresIn' string from the rest of the data\r\n    const { expiresIn, ...restOfData } = partyData;\r\n\r\n    const newParty: Party = {\r\n      id: Date.now(),\r\n      host: 'You',\r\n      ...restOfData,\r\n      rideOptions: partyData.rideOptions,\r\n      // hostUniversity: (partyData as any).hostUniversity,\r\n      // displayUniversity: (partyData as any).displayUniversity,\r\n      // Here's the magic: we calculate the exact future time\r\n      expiryTimestamp: Date.now() + parseDuration(expiresIn),\r\n    };\r\n    // Add the new party to the top of the list\r\n    setParties(prevParties => [newParty, ...prevParties]);\r\n  };\r\n\r\n  // Your original cancelParty function (unchanged)\r\n  const cancelParty = (id: number) => {\r\n    setParties(prevParties => prevParties.filter(party => party.id !== id));\r\n  };\r\n\r\n  // --- 5. AUTOMATIC CLEANUP ---\r\n  // This effect runs in the background to automatically remove parties\r\n  // from the list once their timer has hit zero.\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setParties(prev => prev.filter(p => p.expiryTimestamp > Date.now()));\r\n    }, 5000); // This check runs every 5 seconds\r\n\r\n    // Important: clean up the interval when the app closes\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <PartyContext.Provider value={{ parties, addParty, cancelParty }}>\r\n      {children}\r\n    </PartyContext.Provider>\r\n  );\r\n}\r\n\r\n// Your hook to access the context (unchanged)\r\nexport function useParties() {\r\n  const context = useContext(PartyContext);\r\n  if (context === undefined) {\r\n    throw new Error('useParties must be used within a PartyProvider');\r\n  }\r\n  return context;\r\n}"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAG/B;AAFA;;;AA6BA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAEjE,6BAA6B;AAC7B,kFAAkF;AAClF,MAAM,gBAAgB,CAAC;IACrB,MAAM,CAAC,OAAO,KAAK,GAAG,SAAS,KAAK,CAAC;IACrC,MAAM,WAAW,SAAS,OAAO;IACjC,IAAI,SAAS,OAAO;QAClB,OAAO,WAAW,KAAK;IACzB;IACA,IAAI,SAAS,MAAM;QACjB,OAAO,WAAW,KAAK,KAAK;IAC9B;IACA,OAAO,GAAG,uCAAuC;AACnD;AAGO,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAElD,uCAAuC;IACvC,MAAM,WAAW,CAAC;QAChB,+DAA+D;QAC/D,MAAM,EAAE,SAAS,EAAE,GAAG,YAAY,GAAG;QAErC,MAAM,WAAkB;YACtB,IAAI,KAAK,GAAG;YACZ,MAAM;YACN,GAAG,UAAU;YACb,aAAa,UAAU,WAAW;YAClC,qDAAqD;YACrD,2DAA2D;YAC3D,uDAAuD;YACvD,iBAAiB,KAAK,GAAG,KAAK,cAAc;QAC9C;QACA,2CAA2C;QAC3C,WAAW,CAAA,cAAe;gBAAC;mBAAa;aAAY;IACtD;IAEA,iDAAiD;IACjD,MAAM,cAAc,CAAC;QACnB,WAAW,CAAA,cAAe,YAAY,MAAM,CAAC,CAAA,QAAS,MAAM,EAAE,KAAK;IACrE;IAEA,+BAA+B;IAC/B,qEAAqE;IACrE,+CAA+C;IAC/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,YAAY;YAC3B,WAAW,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,eAAe,GAAG,KAAK,GAAG;QAClE,GAAG,OAAO,kCAAkC;QAE5C,uDAAuD;QACvD,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAGL,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAU;QAAY;kBAC5D;;;;;;AAGP;AAGO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\r\n\r\n// Central theme provider configuring next-themes to toggle the `.dark` class\r\n// which matches the custom variant declared in globals.css: `@custom-variant dark (&:is(.dark *));`\r\nexport function ThemeProvider({\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof NextThemesProvider>) {\r\n  return (\r\n    <NextThemesProvider\r\n      attribute=\"class\"          // ensure a `dark` class is applied to <html>\r\n      defaultTheme=\"system\"      // use system preference first\r\n      enableSystem                // allow system theme switching\r\n      disableTransitionOnChange   // avoid flicker on toggle\r\n      {...props}\r\n    >\r\n      {children}\r\n    </NextThemesProvider>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAOO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBACE,8OAAC,gJAAA,CAAA,gBAAkB;QACjB,WAAU;QACV,cAAa;QACb,YAAY;QACZ,yBAAyB;QACxB,GAAG,KAAK;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useTheme } from \"next-themes\"\r\nimport { Toaster as Sonner, ToasterProps } from \"sonner\"\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = \"system\" } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps[\"theme\"]}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          \"--normal-bg\": \"var(--popover)\",\r\n          \"--normal-text\": \"var(--popover-foreground)\",\r\n          \"--normal-border\": \"var(--border)\",\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,WAAQ,AAAD;IAEpC,qBACE,8OAAC,wIAAA,CAAA,UAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const createClient = () =>\r\n    createBrowserClient(\r\n        supabaseUrl!,\r\n        supabaseKey!,\r\n    );\r\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,eAAe,IACxB,CAAA,GAAA,0KAAA,CAAA,sBAAmB,AAAD,EACd,aACA","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/context/Authcontext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { createClient } from \"@/utils/supabase/client\";\r\nimport type { User } from '@supabase/supabase-js';\r\n\r\ntype AuthContextType = {\r\n  user: User | null;\r\n  loading: boolean;\r\n  signOut: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const supabase = createClient();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Get initial session\r\n    const getUser = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      setUser(user);\r\n      setLoading(false);\r\n    };\r\n\r\n    getUser();\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        setUser(session?.user ?? null);\r\n        setLoading(false);\r\n      }\r\n    );\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, [supabase.auth]);\r\n\r\n  const signOut = async () => {\r\n    await supabase.auth.signOut();\r\n    setUser(null);\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    loading,\r\n    signOut,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACtE,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,eAAY,AAAD;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sBAAsB;QACtB,MAAM,UAAU;YACd,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YACtD,QAAQ;YACR,WAAW;QACb;QAEA;QAEA,0BAA0B;QAC1B,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAChE,OAAO,OAAO;YACZ,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAGF,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG;QAAC,SAAS,IAAI;KAAC;IAElB,MAAM,UAAU;QACd,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,QAAQ;IACV;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;IACF;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}}]
}