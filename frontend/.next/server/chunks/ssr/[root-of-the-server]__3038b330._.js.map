{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\r\n\r\n// Central theme provider configuring next-themes to toggle the `.dark` class\r\n// which matches the custom variant declared in globals.css: `@custom-variant dark (&:is(.dark *));`\r\nexport function ThemeProvider({\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof NextThemesProvider>) {\r\n  return (\r\n    <NextThemesProvider\r\n      attribute=\"class\"          // ensure a `dark` class is applied to <html>\r\n      defaultTheme=\"system\"      // use system preference first\r\n      enableSystem                // allow system theme switching\r\n      disableTransitionOnChange   // avoid flicker on toggle\r\n      {...props}\r\n    >\r\n      {children}\r\n    </NextThemesProvider>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAOO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBACE,8OAAC,gJAAA,CAAA,gBAAkB;QACjB,WAAU;QACV,cAAa;QACb,YAAY;QACZ,yBAAyB;QACxB,GAAG,KAAK;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useTheme } from \"next-themes\"\r\nimport { Toaster as Sonner, ToasterProps } from \"sonner\"\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = \"system\" } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps[\"theme\"]}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          \"--normal-bg\": \"var(--popover)\",\r\n          \"--normal-text\": \"var(--popover-foreground)\",\r\n          \"--normal-border\": \"var(--border)\",\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,WAAQ,AAAD;IAEpC,qBACE,8OAAC,wIAAA,CAAA,UAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const createClient = () =>\r\n    createBrowserClient(\r\n        supabaseUrl!,\r\n        supabaseKey!,\r\n    );\r\n"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,eAAe,IACxB,CAAA,GAAA,0KAAA,CAAA,sBAAmB,AAAD,EACd,aACA","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/stores/authStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { createClient } from '@/utils/supabase/client';\r\nimport type { User } from '@supabase/supabase-js';\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  loading: boolean;\r\n  init: () => void;\r\n  signOut: () => Promise<void>;\r\n}\r\n\r\nconst useAuthStore = create<AuthState>((set) => ({\r\n  user: null,\r\n  loading: true,\r\n  init: () => {\r\n    const supabase = createClient();\r\n    // Get initial session\r\n    supabase.auth.getUser().then(({ data: { user } }) => {\r\n      set({ user, loading: false });\r\n    });\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      (event, session) => {\r\n        set({ user: session?.user ?? null, loading: false });\r\n      }\r\n    );\r\n\r\n    // Cleanup subscription on store unmount (though zustand stores are long-lived)\r\n    return () => subscription.unsubscribe();\r\n  },\r\n  signOut: async () => {\r\n    const supabase = createClient();\r\n    await supabase.auth.signOut();\r\n    set({ user: null });\r\n  },\r\n}));\r\n\r\nexport default useAuthStore;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAUA,MAAM,eAAe,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAAa,CAAC,MAAQ,CAAC;QAC/C,MAAM;QACN,SAAS;QACT,MAAM;YACJ,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,eAAY,AAAD;YAC5B,sBAAsB;YACtB,SAAS,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE;gBAC9C,IAAI;oBAAE;oBAAM,SAAS;gBAAM;YAC7B;YAEA,0BAA0B;YAC1B,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAChE,CAAC,OAAO;gBACN,IAAI;oBAAE,MAAM,SAAS,QAAQ;oBAAM,SAAS;gBAAM;YACpD;YAGF,+EAA+E;YAC/E,OAAO,IAAM,aAAa,WAAW;QACvC;QACA,SAAS;YACP,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,eAAY,AAAD;YAC5B,MAAM,SAAS,IAAI,CAAC,OAAO;YAC3B,IAAI;gBAAE,MAAM;YAAK;QACnB;IACF,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/stores/partyStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\n// We now store a precise timestamp for expiration.\r\nexport interface Party {\r\n  id: number;\r\n  host: string;\r\n  partySize: number;\r\n  meetupPoint: string;\r\n  dropOff: string;\r\n  isFriendsOnly: boolean;\r\n  isGenderOnly: boolean;\r\n  rideOptions: string[];\r\n  expiryTimestamp: number; // The exact time (in milliseconds) the party expires\r\n  hostUniversity?: string;\r\n  displayUniversity?: boolean;\r\n}\r\n\r\n// This small utility converts a string like \"10 min\" or \"1 hr\" into milliseconds.\r\nconst parseDuration = (duration: string): number => {\r\n    const [value, unit] = duration.split(' ');\r\n    const numValue = parseInt(value, 10);\r\n    if (unit === 'min') {\r\n      return numValue * 60 * 1000;\r\n    }\r\n    if (unit === 'hr') {\r\n      return numValue * 60 * 60 * 1000;\r\n    }\r\n    return 0; // Default case if something goes wrong\r\n};\r\n  \r\n\r\ninterface PartyState {\r\n  parties: Party[];\r\n  addParty: (partyData: Omit<Party, 'id' | 'host' | 'expiryTimestamp' | 'rideOptions'> & { expiresIn: string; rideOptions: string[] }) => void;\r\n  cancelParty: (id: number) => void;\r\n  startCleanup: () => () => void;\r\n}\r\n\r\nconst usePartyStore = create<PartyState>((set) => ({\r\n  parties: [],\r\n  addParty: (partyData) => {\r\n    const { expiresIn, ...restOfData } = partyData;\r\n\r\n    const newParty: Party = {\r\n      id: Date.now(),\r\n      host: 'You',\r\n      ...restOfData,\r\n      rideOptions: partyData.rideOptions,\r\n      expiryTimestamp: Date.now() + parseDuration(expiresIn),\r\n    };\r\n    set((state) => ({ parties: [newParty, ...state.parties] }));\r\n  },\r\n  cancelParty: (id) => {\r\n    set((state) => ({\r\n      parties: state.parties.filter((party) => party.id !== id),\r\n    }));\r\n  },\r\n  startCleanup: () => {\r\n    const interval = setInterval(() => {\r\n        set((state) => ({\r\n            parties: state.parties.filter((p) => p.expiryTimestamp > Date.now()),\r\n        }));\r\n    }, 5000); // This check runs every 5 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  },\r\n}));\r\n\r\nexport default usePartyStore;\r\n"],"names":[],"mappings":";;;AAAA;;AAiBA,kFAAkF;AAClF,MAAM,gBAAgB,CAAC;IACnB,MAAM,CAAC,OAAO,KAAK,GAAG,SAAS,KAAK,CAAC;IACrC,MAAM,WAAW,SAAS,OAAO;IACjC,IAAI,SAAS,OAAO;QAClB,OAAO,WAAW,KAAK;IACzB;IACA,IAAI,SAAS,MAAM;QACjB,OAAO,WAAW,KAAK,KAAK;IAC9B;IACA,OAAO,GAAG,uCAAuC;AACrD;AAUA,MAAM,gBAAgB,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAAc,CAAC,MAAQ,CAAC;QACjD,SAAS,EAAE;QACX,UAAU,CAAC;YACT,MAAM,EAAE,SAAS,EAAE,GAAG,YAAY,GAAG;YAErC,MAAM,WAAkB;gBACtB,IAAI,KAAK,GAAG;gBACZ,MAAM;gBACN,GAAG,UAAU;gBACb,aAAa,UAAU,WAAW;gBAClC,iBAAiB,KAAK,GAAG,KAAK,cAAc;YAC9C;YACA,IAAI,CAAC,QAAU,CAAC;oBAAE,SAAS;wBAAC;2BAAa,MAAM,OAAO;qBAAC;gBAAC,CAAC;QAC3D;QACA,aAAa,CAAC;YACZ,IAAI,CAAC,QAAU,CAAC;oBACd,SAAS,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;gBACxD,CAAC;QACH;QACA,cAAc;YACZ,MAAM,WAAW,YAAY;gBACzB,IAAI,CAAC,QAAU,CAAC;wBACZ,SAAS,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,eAAe,GAAG,KAAK,GAAG;oBACrE,CAAC;YACL,GAAG,OAAO,kCAAkC;YAE5C,OAAO,IAAM,cAAc;QAC7B;IACF,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/store-initializer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport useAuthStore from \"@/stores/authStore\";\r\nimport usePartyStore from \"@/stores/partyStore\";\r\n\r\nexport function StoreInitializer() {\r\n  useEffect(() => {\r\n    useAuthStore.getState().init();\r\n    const cleanupParties = usePartyStore.getState().startCleanup();\r\n\r\n    return () => {\r\n      cleanupParties();\r\n    };\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAJA;;;;AAMO,SAAS;IACd,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,0HAAA,CAAA,UAAY,CAAC,QAAQ,GAAG,IAAI;QAC5B,MAAM,iBAAiB,2HAAA,CAAA,UAAa,CAAC,QAAQ,GAAG,YAAY;QAE5D,OAAO;YACL;QACF;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/lib/supabaseClient.ts"],"sourcesContent":["// Inside: frontend/src/lib/supabaseClient.ts\r\n\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\n// The '!' tells TypeScript that we are sure these variables exist from your .env.local file\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":"AAAA,6CAA6C;;;;AAE7C;;AAEA,4FAA4F;AAC5F,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/91971/Desktop/Projects/meet-riders/frontend/src/components/NotificationDropdown.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../lib/supabaseClient\";\r\nimport \"./NotificationDropdown.css\"; // Add styles for the dropdown\r\n\r\ninterface Notification {\r\n  id: string;\r\n  user_id: string;\r\n  user_name: string;\r\n  user_profile: string;\r\n}\r\n\r\nexport default function NotificationDropdown() {\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch initial notifications\r\n    const fetchNotifications = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"party_requests\")\r\n        .select(\"id, user_id, user_name, user_profile\")\r\n        .eq(\"status\", \"Pending\");\r\n\r\n      if (error) {\r\n        console.error(\"Error fetching notifications:\", error);\r\n      } else {\r\n        setNotifications(data || []);\r\n      }\r\n    };\r\n\r\n    fetchNotifications();\r\n\r\n    // Subscribe to real-time updates\r\n    const subscription = supabase\r\n      .channel('party_requests')\r\n      .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'party_requests' }, (payload: { new: Notification }) => {\r\n        setNotifications((prev) => [payload.new, ...prev]);\r\n      })\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(subscription);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"notification-dropdown\">\r\n      <div\r\n        className=\"notification-icon\"\r\n        onClick={() => setIsOpen((prev) => !prev)}\r\n      >\r\n        <span className=\"bell-icon\">ðŸ””</span>\r\n        {notifications.length > 0 && (\r\n          <span className=\"notification-badge\">{notifications.length}</span>\r\n        )}\r\n      </div>\r\n\r\n      {isOpen && (\r\n        <div className=\"dropdown-menu\">\r\n          {notifications.length === 0 ? (\r\n            <p>No new requests</p>\r\n          ) : (\r\n            notifications.map((notification) => (\r\n              <div key={notification.id} className=\"dropdown-item\">\r\n                <img\r\n                  src={notification.user_profile}\r\n                  alt={notification.user_name}\r\n                  className=\"profile-pic\"\r\n                />\r\n                <span className=\"user-name\" title={notification.user_name}>\r\n                  {notification.user_name}\r\n                </span>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;;;;;;AAHA;;;;;AAae,SAAS;IACtB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACrE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,8BAA8B;QAC9B,MAAM,qBAAqB;YACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CACnC,IAAI,CAAC,kBACL,MAAM,CAAC,wCACP,EAAE,CAAC,UAAU;YAEhB,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,iCAAiC;YACjD,OAAO;gBACL,iBAAiB,QAAQ,EAAE;YAC7B;QACF;QAEA;QAEA,iCAAiC;QACjC,MAAM,eAAe,4HAAA,CAAA,WAAQ,CAC1B,OAAO,CAAC,kBACR,EAAE,CAAC,oBAAoB;YAAE,OAAO;YAAU,QAAQ;YAAU,OAAO;QAAiB,GAAG,CAAC;YACvF,iBAAiB,CAAC,OAAS;oBAAC,QAAQ,GAAG;uBAAK;iBAAK;QACnD,GACC,SAAS;QAEZ,OAAO;YACL,4HAAA,CAAA,WAAQ,CAAC,aAAa,CAAC;QACzB;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,UAAU,CAAC,OAAS,CAAC;;kCAEpC,8OAAC;wBAAK,WAAU;kCAAY;;;;;;oBAC3B,cAAc,MAAM,GAAG,mBACtB,8OAAC;wBAAK,WAAU;kCAAsB,cAAc,MAAM;;;;;;;;;;;;YAI7D,wBACC,8OAAC;gBAAI,WAAU;0BACZ,cAAc,MAAM,KAAK,kBACxB,8OAAC;8BAAE;;;;;2BAEH,cAAc,GAAG,CAAC,CAAC,6BACjB,8OAAC;wBAA0B,WAAU;;0CACnC,8OAAC;gCACC,KAAK,aAAa,YAAY;gCAC9B,KAAK,aAAa,SAAS;gCAC3B,WAAU;;;;;;0CAEZ,8OAAC;gCAAK,WAAU;gCAAY,OAAO,aAAa,SAAS;0CACtD,aAAa,SAAS;;;;;;;uBAPjB,aAAa,EAAE;;;;;;;;;;;;;;;;AAgBvC","debugId":null}}]
}